<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- The HTML 4.01 Transitional DOCTYPE declaration-->
<!-- above set at the top of the file will set     -->
<!-- the browser's rendering engine into           -->
<!-- "Quirks Mode". Replacing this declaration     -->
<!-- with a "Standards Mode" doctype is supported, -->
<!-- but may lead to some differences in layout.   -->

<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>ChronoTimer</title>
    <link rel="stylesheet" type="text/css" href="webserv.css">
    <script>
    	function startLoading(){
			//alert("QWEQWE");
    		loadContent();
    		var interval = setInterval(function () {loadContent()}, 1000);
    	}

    	function loadContent(){
    		//alert("loadContent()...");
			var version = document.getElementById('version').innerHTML;
			if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari
				xmlhttp=new XMLHttpRequest();
			}
			else {// code for IE6, IE5
				xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
			}
			xmlhttp.onreadystatechange=function() {
				if (xmlhttp.readyState==4 && xmlhttp.status==200) {
					var result=xmlhttp.responseText;
					//alert("ok...");
					if(result!=""){
						document.getElementById('htmlBody').innerHTML = result;
					}
				}
			}
			xmlhttp.open("GET","zc_webservice?version="+version,true);
			xmlhttp.send();
    	}
    </script>
  </head>

  <body id="htmlBody" onLoad="startLoading()">
  	<h2>Loading...!</h2>
  	<div class="hidden" id="version">0</div>
  </body>
</html>
